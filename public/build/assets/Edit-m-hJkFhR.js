import{a as _,x as V,c as r,o as a,b,d as e,w as U,e as u,f as m,v as p,u as l,t as d,g,F as c,r as x,h as f,i as S,j as T,S as N}from"./app-C7lXKmZF.js";import B from"./AdminSidebar-BQ3Ayuyc.js";import C from"./AdminNavbar-7s3fTxHq.js";import{R as D}from"./RichTextEditor-CvHQLr2W.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"flex min-h-screen bg-gray-50"},F={class:"flex-1 flex flex-col"},M={class:"flex-1 p-6"},R={key:0,class:"text-red-600 text-sm mt-1"},j=["value"],K={key:0,class:"text-red-600 text-sm mt-1"},A=["value"],P={key:0,class:"text-red-600 text-sm mt-1"},$={key:0,class:"mb-2"},J=["src"],L={key:1,class:"text-red-600 text-sm mt-1"},q={key:0,class:"text-red-600 text-sm mt-1"},z={class:"flex items-center space-x-4"},G={class:"inline-flex items-center"},H={class:"inline-flex items-center"},I={class:"flex items-center justify-end space-x-4"},O=["disabled"],et={__name:"Edit",setup(Q){const{props:y}=_(),{article:i,categories:v,tags:k}=y,s=V({title:i.title,category_id:i.category_id||"",tags:i.tags.map(n=>n.id),excerpt:i.excerpt,content:i.content,status:i.status,thumbnail_path:i.thumbnail_path||"",thumbnail:null});function h(n){s.thumbnail=n.target.files[0]}function w(){s.transform(n=>({...n,_method:"put"})),s.post(route("admin.articles.update",i.id),{preserveScroll:!0,forceFormData:!0})}return(n,t)=>(a(),r("div",E,[b(B),e("div",F,[b(C),e("main",M,[t[18]||(t[18]=e("h2",{class:"text-2xl font-semibold text-gray-900 mb-6"},"Edit Artikel",-1)),e("form",{onSubmit:U(w,["prevent"]),class:"space-y-6 bg-white p-6 shadow rounded-lg"},[e("div",null,[t[7]||(t[7]=e("label",{class:"block text-gray-700"},"Judul",-1)),u(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>l(s).title=o),type:"text",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500"},null,512),[[p,l(s).title]]),l(s).errors.title?(a(),r("div",R,d(l(s).errors.title),1)):m("",!0)]),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-gray-700"},"Kategori",-1)),u(e("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>l(s).category_id=o),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500"},[t[8]||(t[8]=e("option",{value:""},"-- Pilih Kategori --",-1)),(a(!0),r(c,null,x(l(v),o=>(a(),r("option",{key:o.id,value:o.id},d(o.name),9,j))),128))],512),[[g,l(s).category_id]]),l(s).errors.category_id?(a(),r("div",K,d(l(s).errors.category_id),1)):m("",!0)]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-gray-700"},"Tags",-1)),u(e("select",{"onUpdate:modelValue":t[2]||(t[2]=o=>l(s).tags=o),multiple:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500"},[(a(!0),r(c,null,x(l(k),o=>(a(),r("option",{key:o.id,value:o.id},d(o.name),9,A))),128))],512),[[g,l(s).tags]]),l(s).errors.tags?(a(),r("div",P,d(l(s).errors.tags),1)):m("",!0)]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-gray-700"},"Thumbnail",-1)),l(s).thumbnail_path?(a(),r("div",$,[e("img",{src:`/storage/${l(s).thumbnail_path}`,alt:"Thumbnail",class:"w-32 h-32 object-cover"},null,8,J)])):m("",!0),e("input",{onChange:h,type:"file",class:"mt-1 block w-full text-gray-700"},null,32),l(s).errors.thumbnail?(a(),r("div",L,d(l(s).errors.thumbnail),1)):m("",!0)]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-gray-700"},"Ringkasan",-1)),u(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=o=>l(s).excerpt=o),rows:"3",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500"},null,512),[[p,l(s).excerpt]])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-gray-700 mb-1"},"Konten",-1)),b(D,{modelValue:l(s).content,"onUpdate:modelValue":t[4]||(t[4]=o=>l(s).content=o)},null,8,["modelValue"]),l(s).errors.content?(a(),r("div",q,d(l(s).errors.content),1)):m("",!0)]),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-gray-700 mb-1"},"Status",-1)),e("div",z,[e("label",G,[u(e("input",{type:"radio",value:"draft","onUpdate:modelValue":t[5]||(t[5]=o=>l(s).status=o),class:"form-radio"},null,512),[[f,l(s).status]]),t[14]||(t[14]=e("span",{class:"ml-2"},"Draft",-1))]),e("label",H,[u(e("input",{type:"radio",value:"published","onUpdate:modelValue":t[6]||(t[6]=o=>l(s).status=o),class:"form-radio"},null,512),[[f,l(s).status]]),t[15]||(t[15]=e("span",{class:"ml-2"},"Published",-1))])])]),e("div",I,[b(l(N),{href:"/admin/articles",class:"bg-gray-200 text-gray-700 px-4 py-2 rounded hover:bg-gray-300"},{default:S(()=>t[17]||(t[17]=[T(" Batal ")])),_:1}),e("button",{disabled:l(s).processing,type:"submit",class:"bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 transition-colors duration-200"}," Update ",8,O)])],32)])])]))}};export{et as default};
