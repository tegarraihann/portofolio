import{a as _,x as V,c as r,o as i,b as p,d as s,w as U,e as u,f as m,v as b,u as l,t as d,g,F as c,r as x,h as f,i as S,j as T,S as D}from"./app-BUVwpb6_.js";import N from"./AdminSidebar-BCtfrawC.js";import j from"./AdminNavbar-BWGDniVh.js";import{R as B}from"./RichTextEditor-Bgwe4uTp.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const C={class:"flex min-h-screen bg-gray-50"},E={class:"flex-1 flex flex-col"},F={class:"flex-1 p-6"},M={key:0,class:"text-red-600 text-sm mt-1"},R=["value"],K={key:0,class:"text-red-600 text-sm mt-1"},A=["value"],P={key:0,class:"text-red-600 text-sm mt-1"},$={key:0,class:"mb-2"},J=["src"],L={key:1,class:"text-red-600 text-sm mt-1"},q={key:0,class:"text-red-600 text-sm mt-1"},z={class:"flex items-center space-x-4"},G={class:"inline-flex items-center"},H={class:"inline-flex items-center"},I={class:"flex items-center justify-end space-x-4"},O=["disabled"],et={__name:"Edit",setup(Q){const{props:y}=_(),{article:n,categories:v,tags:k}=y,e=V({title:n.title,category_id:n.category_id||"",tags:n.tags.map(a=>a.id),excerpt:n.excerpt,content:n.content,status:n.status,thumbnail_path:n.thumbnail_path||""});function h(a){e.thumbnail=a.target.files[0]}function w(){const a=new FormData;a.append("title",e.title),a.append("category_id",e.category_id),a.append("tags",e.tags.join(",")),a.append("excerpt",e.excerpt),a.append("content",e.content),a.append("status",e.status),e.thumbnail&&a.append("thumbnail",e.thumbnail),e.put(route("admin.articles.update",n.id),{data:a,preserveScroll:!0})}return(a,t)=>(i(),r("div",C,[p(N),s("div",E,[p(j),s("main",F,[t[18]||(t[18]=s("h2",{class:"text-2xl font-semibold text-gray-900 mb-6"},"Edit Artikel",-1)),s("form",{onSubmit:U(w,["prevent"]),class:"space-y-6 bg-white p-6 shadow rounded-lg"},[s("div",null,[t[7]||(t[7]=s("label",{class:"block text-gray-700"},"Judul",-1)),u(s("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>l(e).title=o),type:"text",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500"},null,512),[[b,l(e).title]]),l(e).errors.title?(i(),r("div",M,d(l(e).errors.title),1)):m("",!0)]),s("div",null,[t[9]||(t[9]=s("label",{class:"block text-gray-700"},"Kategori",-1)),u(s("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>l(e).category_id=o),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500"},[t[8]||(t[8]=s("option",{value:""},"-- Pilih Kategori --",-1)),(i(!0),r(c,null,x(l(v),o=>(i(),r("option",{key:o.id,value:o.id},d(o.name),9,R))),128))],512),[[g,l(e).category_id]]),l(e).errors.category_id?(i(),r("div",K,d(l(e).errors.category_id),1)):m("",!0)]),s("div",null,[t[10]||(t[10]=s("label",{class:"block text-gray-700"},"Tags",-1)),u(s("select",{"onUpdate:modelValue":t[2]||(t[2]=o=>l(e).tags=o),multiple:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500"},[(i(!0),r(c,null,x(l(k),o=>(i(),r("option",{key:o.id,value:o.id},d(o.name),9,A))),128))],512),[[g,l(e).tags]]),l(e).errors.tags?(i(),r("div",P,d(l(e).errors.tags),1)):m("",!0)]),s("div",null,[t[11]||(t[11]=s("label",{class:"block text-gray-700"},"Thumbnail",-1)),l(e).thumbnail_path?(i(),r("div",$,[s("img",{src:`/storage/${l(e).thumbnail_path}`,alt:"Thumbnail",class:"w-32 h-32 object-cover"},null,8,J)])):m("",!0),s("input",{onChange:h,type:"file",class:"mt-1 block w-full text-gray-700"},null,32),l(e).errors.thumbnail?(i(),r("div",L,d(l(e).errors.thumbnail),1)):m("",!0)]),s("div",null,[t[12]||(t[12]=s("label",{class:"block text-gray-700"},"Ringkasan",-1)),u(s("textarea",{"onUpdate:modelValue":t[3]||(t[3]=o=>l(e).excerpt=o),rows:"3",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500"},null,512),[[b,l(e).excerpt]])]),s("div",null,[t[13]||(t[13]=s("label",{class:"block text-gray-700 mb-1"},"Konten",-1)),p(B,{modelValue:l(e).content,"onUpdate:modelValue":t[4]||(t[4]=o=>l(e).content=o)},null,8,["modelValue"]),l(e).errors.content?(i(),r("div",q,d(l(e).errors.content),1)):m("",!0)]),s("div",null,[t[16]||(t[16]=s("label",{class:"block text-gray-700 mb-1"},"Status",-1)),s("div",z,[s("label",G,[u(s("input",{type:"radio",value:"draft","onUpdate:modelValue":t[5]||(t[5]=o=>l(e).status=o),class:"form-radio"},null,512),[[f,l(e).status]]),t[14]||(t[14]=s("span",{class:"ml-2"},"Draft",-1))]),s("label",H,[u(s("input",{type:"radio",value:"published","onUpdate:modelValue":t[6]||(t[6]=o=>l(e).status=o),class:"form-radio"},null,512),[[f,l(e).status]]),t[15]||(t[15]=s("span",{class:"ml-2"},"Published",-1))])])]),s("div",I,[p(l(D),{href:"/admin/articles",class:"bg-gray-200 text-gray-700 px-4 py-2 rounded hover:bg-gray-300"},{default:S(()=>t[17]||(t[17]=[T(" Batal ")])),_:1}),s("button",{disabled:l(e).processing,type:"submit",class:"bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 transition-colors duration-200"}," Update ",8,O)])],32)])])]))}};export{et as default};
