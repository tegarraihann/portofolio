import{a as V,x as S,c as r,o as a,b as p,d as e,w as U,e as u,f as m,v as b,u as l,t as n,g as c,F as g,r as f,h as x,i as T,j as B,S as C}from"./app-9henziWo.js";import E from"./AdminSidebar-BFrRjlaF.js";import D from"./AdminNavbar-BSFnSFOY.js";import{R as F}from"./RichTextEditor-s7GaMht_.js";import{S as y}from"./sweetalert2.esm.all-ePrzfkxH.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"flex min-h-screen bg-gray-50"},N={class:"flex-1 flex flex-col"},R={class:"flex-1 p-6"},j={key:0,class:"text-red-600 text-sm mt-1"},A=["value"],K={key:0,class:"text-red-600 text-sm mt-1"},P=["value"],$={key:0,class:"text-red-600 text-sm mt-1"},G={key:0,class:"mb-2"},J=["src"],L={key:1,class:"text-red-600 text-sm mt-1"},q={key:0,class:"text-red-600 text-sm mt-1"},z={class:"flex items-center space-x-4"},H={class:"inline-flex items-center"},I={class:"inline-flex items-center"},O={class:"flex items-center justify-end space-x-4"},Q=["disabled"],lt={__name:"Edit",setup(W){const{props:v}=V(),{article:i,categories:k,tags:h}=v,s=S({title:i.title,category_id:i.category_id||"",tags:i.tags.map(d=>d.id),excerpt:i.excerpt,content:i.content,status:i.status,thumbnail_path:i.thumbnail_path||"",thumbnail:null});function w(d){s.thumbnail=d.target.files[0]}function _(){s.transform(d=>({...d,_method:"put"})),s.post(route("admin.articles.update",i.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{y.fire({toast:!0,position:"top-end",icon:"success",title:"Artikel berhasil diperbarui",showConfirmButton:!1,timer:1500})},onError:()=>{y.fire({icon:"error",title:"Gagal",text:"Periksa kembali input Anda."})}})}return(d,t)=>(a(),r("div",M,[p(E),e("div",N,[p(D),e("main",R,[t[18]||(t[18]=e("h2",{class:"text-2xl font-semibold text-gray-900 mb-6"},"Edit Artikel",-1)),e("form",{onSubmit:U(_,["prevent"]),class:"space-y-6 bg-white p-6 shadow rounded-lg"},[e("div",null,[t[7]||(t[7]=e("label",{class:"block text-gray-700"},"Judul",-1)),u(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>l(s).title=o),type:"text",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500"},null,512),[[b,l(s).title]]),l(s).errors.title?(a(),r("div",j,n(l(s).errors.title),1)):m("",!0)]),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-gray-700"},"Kategori",-1)),u(e("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>l(s).category_id=o),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500"},[t[8]||(t[8]=e("option",{value:""},"-- Pilih Kategori --",-1)),(a(!0),r(g,null,f(l(k),o=>(a(),r("option",{key:o.id,value:o.id},n(o.name),9,A))),128))],512),[[c,l(s).category_id]]),l(s).errors.category_id?(a(),r("div",K,n(l(s).errors.category_id),1)):m("",!0)]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-gray-700"},"Tags",-1)),u(e("select",{"onUpdate:modelValue":t[2]||(t[2]=o=>l(s).tags=o),multiple:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500"},[(a(!0),r(g,null,f(l(h),o=>(a(),r("option",{key:o.id,value:o.id},n(o.name),9,P))),128))],512),[[c,l(s).tags]]),l(s).errors.tags?(a(),r("div",$,n(l(s).errors.tags),1)):m("",!0)]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-gray-700"},"Thumbnail",-1)),l(s).thumbnail_path?(a(),r("div",G,[e("img",{src:`/storage/${l(s).thumbnail_path}`,alt:"Thumbnail",class:"w-32 h-32 object-cover"},null,8,J)])):m("",!0),e("input",{onChange:w,type:"file",class:"mt-1 block w-full text-gray-700"},null,32),l(s).errors.thumbnail?(a(),r("div",L,n(l(s).errors.thumbnail),1)):m("",!0)]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-gray-700"},"Ringkasan",-1)),u(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=o=>l(s).excerpt=o),rows:"3",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500"},null,512),[[b,l(s).excerpt]])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-gray-700 mb-1"},"Konten",-1)),p(F,{modelValue:l(s).content,"onUpdate:modelValue":t[4]||(t[4]=o=>l(s).content=o)},null,8,["modelValue"]),l(s).errors.content?(a(),r("div",q,n(l(s).errors.content),1)):m("",!0)]),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-gray-700 mb-1"},"Status",-1)),e("div",z,[e("label",H,[u(e("input",{type:"radio",value:"draft","onUpdate:modelValue":t[5]||(t[5]=o=>l(s).status=o),class:"form-radio"},null,512),[[x,l(s).status]]),t[14]||(t[14]=e("span",{class:"ml-2"},"Draft",-1))]),e("label",I,[u(e("input",{type:"radio",value:"published","onUpdate:modelValue":t[6]||(t[6]=o=>l(s).status=o),class:"form-radio"},null,512),[[x,l(s).status]]),t[15]||(t[15]=e("span",{class:"ml-2"},"Published",-1))])])]),e("div",O,[p(l(C),{href:"/admin/articles",class:"bg-gray-200 text-gray-700 px-4 py-2 rounded hover:bg-gray-300"},{default:T(()=>t[17]||(t[17]=[B(" Batal ")])),_:1}),e("button",{disabled:l(s).processing,type:"submit",class:"bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 transition-colors duration-200"}," Update ",8,Q)])],32)])])]))}};export{lt as default};
