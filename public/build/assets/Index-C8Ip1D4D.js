import{m as y,O as V,C as L,c as a,o as i,b as n,d as t,i as f,j as g,u as p,S as m,e as x,v as P,g as _,F as k,r as w,f as v,D as U,t as l,W as C}from"./app-CZSu-qLK.js";import M from"./AdminSidebar-RmVPbl6f.js";import D from"./AdminNavbar-C6KydMKL.js";import{S as h}from"./sweetalert2.esm.all-ePrzfkxH.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"flex min-h-screen bg-gray-50"},$={class:"flex-1 flex flex-col"},E={class:"flex-1 p-6"},H={class:"mb-8"},I={class:"flex items-center justify-between"},K={class:"bg-white rounded-xl shadow-md p-6 mb-6"},z={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},W={class:"md:col-span-2"},G={class:"relative"},O={key:0,class:"bg-white rounded-xl p-6 text-center text-gray-500"},Y={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},q={class:"relative h-40 bg-gray-100 flex items-center justify-center mb-4"},J=["src"],Q={key:1,class:"absolute top-2 left-2 bg-yellow-400 text-white text-xs px-2 py-1 rounded-full font-semibold shadow"},R={class:"absolute top-2 right-2"},X={class:"font-bold text-lg text-gray-900 truncate"},Z={class:"text-sm text-gray-600 mb-2 line-clamp-2"},ee={class:"text-xs uppercase text-gray-500 mb-2 font-semibold"},te={class:"flex flex-wrap gap-1 mb-3"},se={key:0,class:"bg-gray-100 text-gray-500 text-xs px-2 py-1 rounded"},oe={class:"flex justify-between text-sm mt-2"},re={class:"space-x-2"},ae=["onClick"],ie={__name:"Index",props:{projects:Array},setup(B){const S=B;y("grid");const b=y(S.projects??[]),r=V({search:"",category:"",status:""}),j=L(()=>{let o=b.value;if(r.search){const e=r.search.toLowerCase();o=o.filter(s=>{const d=(s.title||"").toLowerCase(),c=(s.description||"").toLowerCase(),u=Array.isArray(s.tech_stack)?s.tech_stack:[];return d.includes(e)||c.includes(e)||u.some(A=>(A||"").toLowerCase().includes(e))})}if(r.category&&(o=o.filter(e=>e.category===r.category)),r.status)switch(r.status){case"active":o=o.filter(e=>e.is_active);break;case"inactive":o=o.filter(e=>!e.is_active);break;case"featured":o=o.filter(e=>e.is_featured);break}return o.sort((e,s)=>(e.sort_order||0)-(s.sort_order||0))}),T=async o=>{(await h.fire({title:"Hapus project?",text:"Tindakan ini tidak dapat dibatalkan.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#DC2626",cancelButtonColor:"#6B7280",confirmButtonText:"Ya, hapus",cancelButtonText:"Batal"})).isConfirmed&&C.delete(route("admin.projects.destroy",o),{preserveScroll:!0,onSuccess:()=>{C.visit(route("admin.projects.index"),{preserveScroll:!0,replace:!0,only:["projects"]}),h.fire({toast:!0,position:"top-end",icon:"success",title:"Project dihapus",showConfirmButton:!1,timer:1500})},onError:()=>{h.fire({icon:"error",title:"Gagal",text:"Terjadi kesalahan saat menghapus project"})}})};return(o,e)=>(i(),a("div",N,[n(M),t("div",$,[n(D),t("main",E,[t("div",H,[t("div",I,[e[4]||(e[4]=t("div",null,[t("h1",{class:"text-3xl font-bold text-gray-900"},"Kelola Projects"),t("p",{class:"text-gray-600 mt-1"},"Manage semua project portfolio Anda.")],-1)),n(p(m),{href:o.route("admin.projects.create"),class:"bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors duration-200 flex items-center"},{default:f(()=>e[3]||(e[3]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),g(" Tambah Project ")])),_:1},8,["href"])])]),t("div",K,[t("div",z,[t("div",W,[e[6]||(e[6]=t("label",{for:"search",class:"block text-sm font-medium text-gray-700 mb-2"}," Cari Project ",-1)),t("div",G,[x(t("input",{id:"search","onUpdate:modelValue":e[0]||(e[0]=s=>r.search=s),type:"text",placeholder:"Cari berdasarkan judul atau teknologi...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[P,r.search]]),e[5]||(e[5]=t("svg",{class:"absolute left-3 top-2.5 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])]),t("div",null,[e[8]||(e[8]=t("label",{for:"category-filter",class:"block text-sm font-medium text-gray-700 mb-2"}," Kategori ",-1)),x(t("select",{id:"category-filter","onUpdate:modelValue":e[1]||(e[1]=s=>r.category=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"},e[7]||(e[7]=[t("option",{value:""},"Semua Kategori",-1),t("option",{value:"fullstack"},"Full Stack",-1),t("option",{value:"frontend"},"Frontend",-1),t("option",{value:"backend"},"Backend",-1)]),512),[[_,r.category]])]),t("div",null,[e[10]||(e[10]=t("label",{for:"status-filter",class:"block text-sm font-medium text-gray-700 mb-2"}," Status ",-1)),x(t("select",{id:"status-filter","onUpdate:modelValue":e[2]||(e[2]=s=>r.status=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"},e[9]||(e[9]=[t("option",{value:""},"Semua Status",-1),t("option",{value:"active"},"Aktif",-1),t("option",{value:"inactive"},"Tidak Aktif",-1),t("option",{value:"featured"},"Unggulan",-1)]),512),[[_,r.status]])])])]),b.value.length===0?(i(),a("div",O," Belum ada project. ")):(i(),a("div",Y,[(i(!0),a(k,null,w(j.value,s=>{var d;return i(),a("div",{key:s.id,class:"bg-white border rounded-xl p-4 hover:shadow transition"},[t("div",q,[s.thumbnail?(i(),a("img",{key:0,src:`/storage/${s.thumbnail}`,alt:"",class:"w-full h-full object-cover"},null,8,J)):v("",!0),s.is_featured?(i(),a("div",Q," Unggulan ")):v("",!0),t("div",R,[t("span",{class:U(["px-2 py-1 text-xs text-white rounded-full font-semibold",s.is_active?"bg-green-500":"bg-red-500"])},l(s.is_active?"Aktif":"Tidak Aktif"),3)])]),t("h2",X,l(s.title),1),t("p",Z,l(s.description),1),t("div",ee,l((d=s.category)==null?void 0:d.toUpperCase()),1),t("div",te,[(i(!0),a(k,null,w((s.tech_stack??[]).slice(0,3),(c,u)=>(i(),a("span",{key:u,class:"bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded"},l(c),1))),128)),(s.tech_stack??[]).length>3?(i(),a("span",se," +"+l(s.tech_stack.length-3),1)):v("",!0)]),t("div",oe,[t("div",re,[n(p(m),{href:o.route("admin.projects.show",s.id),class:"text-blue-600 hover:underline"},{default:f(()=>e[11]||(e[11]=[g("Lihat")])),_:2},1032,["href"]),n(p(m),{href:o.route("admin.projects.edit",s.id),class:"text-gray-700 hover:underline"},{default:f(()=>e[12]||(e[12]=[g("Edit")])),_:2},1032,["href"])]),t("button",{onClick:c=>T(s.id),class:"text-red-600 hover:underline"},"Hapus",8,ae)])])}),128))]))])])]))}},fe=F(ie,[["__scopeId","data-v-958e14a1"]]);export{fe as default};
