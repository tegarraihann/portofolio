import{a as S,x as _,c as r,o as a,b as u,d as e,w as h,e as n,f as d,v as b,u as s,t as i,g as p,F as g,r as f,h as x,i as U,j as C,S as T}from"./app-C0tTr7Qq.js";import B from"./AdminSidebar-COanCy1K.js";import D from"./AdminNavbar-D18K6OyB.js";import{R as F}from"./RichTextEditor-BZG3VUoW.js";import{S as c}from"./sweetalert2.esm.all-ePrzfkxH.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"flex min-h-screen bg-gray-50"},N={class:"flex-1 flex flex-col"},R={class:"flex-1 p-6"},A={key:0,class:"text-red-600 text-sm mt-1"},E=["value"],K={key:0,class:"text-red-600 text-sm mt-1"},P=["value"],j={key:0,class:"text-red-600 text-sm mt-1"},$={key:0,class:"text-red-600 text-sm mt-1"},G={key:0,class:"text-red-600 text-sm mt-1"},J={class:"flex items-center space-x-4"},L={class:"inline-flex items-center"},q={class:"inline-flex items-center"},z={class:"flex items-center justify-end space-x-4"},H=["disabled"],tt={__name:"Create",setup(I){const{props:y}=S(),{categories:v,tags:k}=y,o=_({title:"",category_id:"",tags:[],excerpt:"",content:"",status:"draft",thumbnail:null});function w(m){o.thumbnail=m.target.files[0]}function V(){o.post(route("admin.articles.store"),{forceFormData:!0,onSuccess:()=>{c.fire({toast:!0,position:"top-end",icon:"success",title:"Artikel berhasil dibuat",showConfirmButton:!1,timer:1500})},onError:()=>{c.fire({icon:"error",title:"Gagal",text:"Periksa kembali input Anda."})}})}return(m,t)=>(a(),r("div",M,[u(B),e("div",N,[u(D),e("main",R,[t[18]||(t[18]=e("h2",{class:"text-2xl font-semibold text-gray-900 mb-6"},"Tambah Artikel",-1)),e("form",{onSubmit:h(V,["prevent"]),class:"space-y-6 bg-white p-6 shadow rounded-lg"},[e("div",null,[t[7]||(t[7]=e("label",{class:"block text-gray-700"},"Judul",-1)),n(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>s(o).title=l),type:"text",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500"},null,512),[[b,s(o).title]]),s(o).errors.title?(a(),r("div",A,i(s(o).errors.title),1)):d("",!0)]),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-gray-700"},"Kategori",-1)),n(e("select",{"onUpdate:modelValue":t[1]||(t[1]=l=>s(o).category_id=l),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500"},[t[8]||(t[8]=e("option",{value:""},"-- Pilih Kategori --",-1)),(a(!0),r(g,null,f(s(v),l=>(a(),r("option",{key:l.id,value:l.id},i(l.name),9,E))),128))],512),[[p,s(o).category_id]]),s(o).errors.category_id?(a(),r("div",K,i(s(o).errors.category_id),1)):d("",!0)]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-gray-700"},"Tags",-1)),n(e("select",{"onUpdate:modelValue":t[2]||(t[2]=l=>s(o).tags=l),multiple:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500"},[(a(!0),r(g,null,f(s(k),l=>(a(),r("option",{key:l.id,value:l.id},i(l.name),9,P))),128))],512),[[p,s(o).tags]]),s(o).errors.tags?(a(),r("div",j,i(s(o).errors.tags),1)):d("",!0)]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-gray-700"},"Thumbnail",-1)),e("input",{onChange:w,type:"file",class:"mt-1 block w-full text-gray-700"},null,32),s(o).errors.thumbnail?(a(),r("div",$,i(s(o).errors.thumbnail),1)):d("",!0)]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-gray-700"},"Ringkasan",-1)),n(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=l=>s(o).excerpt=l),rows:"3",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500"},null,512),[[b,s(o).excerpt]])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-gray-700 mb-1"},"Konten",-1)),u(F,{modelValue:s(o).content,"onUpdate:modelValue":t[4]||(t[4]=l=>s(o).content=l)},null,8,["modelValue"]),s(o).errors.content?(a(),r("div",G,i(s(o).errors.content),1)):d("",!0)]),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-gray-700 mb-1"},"Status",-1)),e("div",J,[e("label",L,[n(e("input",{type:"radio",value:"draft","onUpdate:modelValue":t[5]||(t[5]=l=>s(o).status=l),class:"form-radio"},null,512),[[x,s(o).status]]),t[14]||(t[14]=e("span",{class:"ml-2"},"Draft",-1))]),e("label",q,[n(e("input",{type:"radio",value:"published","onUpdate:modelValue":t[6]||(t[6]=l=>s(o).status=l),class:"form-radio"},null,512),[[x,s(o).status]]),t[15]||(t[15]=e("span",{class:"ml-2"},"Published",-1))])])]),e("div",z,[u(s(T),{href:"/admin/articles",class:"bg-gray-200 text-gray-700 px-4 py-2 rounded hover:bg-gray-300"},{default:U(()=>t[17]||(t[17]=[C(" Batal ")])),_:1}),e("button",{disabled:s(o).processing,type:"submit",class:"bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 transition-colors duration-200"}," Simpan ",8,H)])],32)])])]))}};export{tt as default};
