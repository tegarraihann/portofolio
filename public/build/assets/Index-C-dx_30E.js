import{x as b,a as h,y as k,k as w,c as o,o as a,b as c,d as t,f as d,t as g,w as _,u as i,j as m,i as C,S}from"./app-Bp-b8TO2.js";import V from"./AdminNavbar-CFXiIWyG.js";import U from"./AdminSidebar-C-HORMHZ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"flex min-h-screen bg-gray-50"},D={class:"flex-1 flex flex-col"},L={class:"flex-1 p-6 space-y-6"},N={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},F={class:"lg:col-span-2 bg-white rounded-xl shadow p-6"},M={key:0,class:"mb-4 rounded-lg bg-green-50 border border-green-200 text-green-800 px-4 py-3"},j={class:"flex items-center space-x-3"},I=["disabled"],O={key:0,class:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},P={key:0,class:"text-sm text-red-600"},T={class:"bg-white rounded-xl shadow p-6 space-y-4"},z={key:0,class:"space-y-2"},A={class:"text-sm text-gray-600 break-all"},E={class:"flex space-x-2"},H={key:0,class:"text-green-600 text-sm"},X={key:1,class:"text-sm text-gray-500"},K={__name:"Index",props:{cvUrl:{type:String,default:null},hasCv:{type:Boolean,default:!1}},setup(l){const u=l,s=b({cv:null}),f=h(),p=k(()=>{var n;return((n=f.props.flash)==null?void 0:n.status)||""}),r=w(!1),x=n=>{s.cv=n.target.files[0],r.value=!1},v=()=>{s.cv&&s.post(route("admin.cv.store"),{forceFormData:!0,onSuccess:()=>{s.reset("cv")}})},y=async()=>{if(!(!u.cvUrl||!(navigator!=null&&navigator.clipboard)))try{await navigator.clipboard.writeText(u.cvUrl),r.value=!0}catch{r.value=!1}};return(n,e)=>(a(),o("div",B,[c(U),t("div",D,[c(V),t("main",L,[e[7]||(e[7]=t("div",{class:"flex items-center justify-between"},[t("div",null,[t("h1",{class:"text-3xl font-bold text-gray-900"},"CV Download"),t("p",{class:"text-gray-600 mt-1"},'Unggah CV terbaru agar tombol "Download CV" di landing page selalu up to date.')])],-1)),t("div",N,[t("div",F,[e[4]||(e[4]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Upload CV",-1)),p.value?(a(),o("div",M,g(p.value),1)):d("",!0),t("form",{onSubmit:_(v,["prevent"]),class:"space-y-4"},[t("div",null,[e[0]||(e[0]=t("label",{for:"cv",class:"block text-sm font-medium text-gray-700 mb-2"}," Pilih file (PDF/DOC/DOCX, maks 5MB) ",-1)),t("input",{id:"cv",type:"file",accept:".pdf,.doc,.docx,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",class:"block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",onChange:x},null,32),e[1]||(e[1]=t("p",{class:"text-xs text-gray-500 mt-2"},"File lama akan digantikan secara otomatis.",-1))]),t("div",j,[t("button",{type:"submit",disabled:i(s).processing,class:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white font-semibold rounded-lg shadow hover:bg-indigo-700 transition disabled:opacity-50"},[i(s).processing?(a(),o("svg",O,e[2]||(e[2]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"},null,-1)]))):d("",!0),e[3]||(e[3]=m(" Simpan CV "))],8,I),i(s).errors.cv?(a(),o("span",P,g(i(s).errors.cv),1)):d("",!0)])],32)]),t("div",T,[e[6]||(e[6]=t("h2",{class:"text-lg font-semibold text-gray-900"},"Link Saat Ini",-1)),l.hasCv?(a(),o("div",z,[t("p",A,g(l.cvUrl),1),t("div",E,[c(i(S),{href:l.cvUrl,class:"px-3 py-2 bg-gray-100 text-gray-800 rounded-lg hover:bg-gray-200 text-sm font-medium",target:"_blank"},{default:C(()=>e[5]||(e[5]=[m(" Lihat/Unduh ")])),_:1},8,["href"]),t("button",{type:"button",onClick:y,class:"px-3 py-2 bg-indigo-50 text-indigo-700 rounded-lg hover:bg-indigo-100 text-sm font-medium"}," Salin Link ")]),r.value?(a(),o("p",H,"Link tersalin.")):d("",!0)])):(a(),o("div",X," Belum ada CV yang diunggah. Setelah upload, tombol di landing page akan menggunakan file ini. "))])])])])]))}};export{K as default};
