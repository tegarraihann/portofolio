import{k as D,x as L,c as u,o as p,b as c,d as t,i as M,j as w,u as s,S as N,w as P,e as n,v as d,g as A,L as U,F as E,r as K,t as V}from"./app-C7lXKmZF.js";import $ from"./AdminSidebar-BQ3Ayuyc.js";import q from"./AdminNavbar-7s3fTxHq.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const O={class:"flex min-h-screen bg-gray-50"},R={class:"flex-1 flex flex-col"},G={class:"flex-1 p-6"},H={class:"flex items-center justify-between mb-6"},I={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},J={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},z={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Q={class:"flex items-center space-x-2"},W={class:"flex items-center space-x-2"},X={class:"flex gap-2 mb-2"},Y={class:"flex flex-wrap gap-2"},Z=["onClick"],tt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},et={class:"flex items-center"},ot={class:"w-full h-28 bg-gray-100 rounded overflow-hidden flex items-center justify-center"},st=["src"],lt={key:1,class:"text-gray-400 text-sm"},it={class:"pt-4"},rt=["disabled"],mt={__name:"Edit",props:{project:{type:Object,required:!0}},setup(T){var g,b,f,x,v,y,k,h,_;const r=T,a=D(""),o=L({title:((g=r.project)==null?void 0:g.title)??"",description:((b=r.project)==null?void 0:b.description)??"",category:((f=r.project)==null?void 0:f.category)??"",tech_stack:((x=r.project)==null?void 0:x.tech_stack)??[],thumbnail:null,live_demo_url:((v=r.project)==null?void 0:v.live_demo_url)??"",github_url:((y=r.project)==null?void 0:y.github_url)??"",is_featured:!!((k=r.project)!=null&&k.is_featured),is_active:!!((h=r.project)!=null&&h.is_active),sort_order:((_=r.project)==null?void 0:_.sort_order)??0}),m=r.project;function S(){if(!a.value.trim())return;const i=a.value.split(",").map(e=>e.trim()).filter(Boolean);o.tech_stack.push(...i),a.value=""}function C(i){o.tech_stack.splice(i,1)}function F(i){o.thumbnail=i.target.files[0]}function B(){o.transform(i=>{const e={...i,_method:"put"};return i.thumbnail||delete e.thumbnail,e}),o.post(route("admin.projects.update",m.id),{forceFormData:!0,preserveScroll:!0,onFinish:()=>{o.transform(i=>{const{_method:e,...l}=i;return l})}})}return(i,e)=>(p(),u("div",O,[c($),t("div",R,[c(q),t("main",G,[t("div",H,[e[10]||(e[10]=t("div",null,[t("h1",{class:"text-2xl font-semibold text-gray-900"},"Edit Project"),t("p",{class:"text-sm text-gray-600"},"Perbarui detail project portfolio Anda.")],-1)),c(s(N),{href:i.route("admin.projects.index"),class:"text-sm text-indigo-600 hover:text-indigo-800"},{default:M(()=>e[9]||(e[9]=[w(" ← Kembali ")])),_:1},8,["href"])]),t("form",{onSubmit:P(B,["prevent"]),class:"bg-white rounded-lg shadow p-6 space-y-6"},[t("div",I,[t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Judul",-1)),n(t("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>s(o).title=l),type:"text",class:"w-full border rounded px-3 py-2 focus:ring focus:ring-indigo-200",required:""},null,512),[[d,s(o).title]])]),t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Kategori",-1)),n(t("select",{"onUpdate:modelValue":e[1]||(e[1]=l=>s(o).category=l),class:"w-full border rounded px-3 py-2 focus:ring focus:ring-indigo-200"},e[12]||(e[12]=[t("option",{value:""},"Pilih Kategori",-1),t("option",{value:"frontend"},"Frontend",-1),t("option",{value:"backend"},"Backend",-1),t("option",{value:"fullstack"},"Fullstack",-1)]),512),[[A,s(o).category]])])]),t("div",null,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Deskripsi",-1)),n(t("textarea",{"onUpdate:modelValue":e[2]||(e[2]=l=>s(o).description=l),rows:"4",class:"w-full border rounded px-3 py-2 focus:ring focus:ring-indigo-200"},null,512),[[d,s(o).description]])]),t("div",J,[t("div",null,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Live Demo URL",-1)),n(t("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>s(o).live_demo_url=l),type:"url",class:"w-full border rounded px-3 py-2 focus:ring focus:ring-indigo-200"},null,512),[[d,s(o).live_demo_url]])]),t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"GitHub URL",-1)),n(t("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>s(o).github_url=l),type:"url",class:"w-full border rounded px-3 py-2 focus:ring focus:ring-indigo-200"},null,512),[[d,s(o).github_url]])])]),t("div",z,[t("label",Q,[n(t("input",{"onUpdate:modelValue":e[5]||(e[5]=l=>s(o).is_active=l),type:"checkbox",class:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[U,s(o).is_active]]),e[17]||(e[17]=t("span",{class:"text-sm text-gray-700"},"Aktif",-1))]),t("label",W,[n(t("input",{"onUpdate:modelValue":e[6]||(e[6]=l=>s(o).is_featured=l),type:"checkbox",class:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[U,s(o).is_featured]]),e[18]||(e[18]=t("span",{class:"text-sm text-gray-700"},"Unggulan",-1))]),t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Urutan (sort_order)",-1)),n(t("input",{"onUpdate:modelValue":e[7]||(e[7]=l=>s(o).sort_order=l),type:"number",class:"w-full border rounded px-3 py-2 focus:ring focus:ring-indigo-200"},null,512),[[d,s(o).sort_order,void 0,{number:!0}]])])]),t("div",null,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tech Stack",-1)),t("div",X,[n(t("input",{"onUpdate:modelValue":e[8]||(e[8]=l=>a.value=l),type:"text",placeholder:"Tambah teknologi (pisah dengan koma untuk banyak item)",class:"flex-1 border rounded px-3 py-2 focus:ring focus:ring-indigo-200"},null,512),[[d,a.value]]),t("button",{type:"button",onClick:S,class:"px-3 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700"},"Tambah")]),t("div",Y,[(p(!0),u(E,null,K(s(o).tech_stack,(l,j)=>(p(),u("span",{key:j,class:"px-2 py-1 bg-gray-100 rounded text-xs flex items-center gap-1"},[w(V(l)+" ",1),t("button",{type:"button",onClick:nt=>C(j),class:"text-red-500 hover:text-red-700"},"×",8,Z)]))),128))])]),t("div",tt,[t("div",null,[e[21]||(e[21]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Thumbnail",-1)),t("input",{type:"file",onChange:F,class:"block w-full text-sm text-gray-700"},null,32),e[22]||(e[22]=t("p",{class:"text-xs text-gray-500 mt-1"},"Opsional: upload untuk mengganti thumbnail.",-1))]),t("div",et,[t("div",ot,[s(m).thumbnail?(p(),u("img",{key:0,src:`/storage/${s(m).thumbnail}`,alt:"Thumbnail",class:"w-full h-full object-cover"},null,8,st)):(p(),u("span",lt,"Tidak ada thumbnail"))])])]),t("div",it,[t("button",{type:"submit",class:"bg-indigo-600 text-white px-6 py-2 rounded hover:bg-indigo-700",disabled:s(o).processing},V(s(o).processing?"Menyimpan...":"Simpan Perubahan"),9,rt)])],32)])])]))}};export{mt as default};
